<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Construct a Regular Expression for Matching BIDS Filenames — construct_bids_regex • BrainGnomes</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct a Regular Expression for Matching BIDS Filenames — construct_bids_regex"><meta name="description" content="This function constructs a regular expression to match BIDS-compatible filenames
based on a set of entity-value pairs. The resulting pattern allows for intermediate
unspecified entities between matched ones and ensures correct ordering based on
the BIDS specification. It supports both full entity names and their common abbreviations
(e.g., sub, ses, task, desc, etc.)."><meta property="og:description" content="This function constructs a regular expression to match BIDS-compatible filenames
based on a set of entity-value pairs. The resulting pattern allows for intermediate
unspecified entities between matched ones and ensures correct ordering based on
the BIDS specification. It supports both full entity names and their common abbreviations
(e.g., sub, ses, task, desc, etc.)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BrainGnomes</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/braingnomes_quickstart.html">BrainGnomes Quickstart</a></li>
    <li><a class="dropdown-item" href="../articles/building_containers.html">Building Singularity containers for BrainGnomes</a></li>
    <li><a class="dropdown-item" href="../articles/extract_rois.html">Extracting ROI Timeseries and Connectivity</a></li>
    <li><a class="dropdown-item" href="../articles/postprocessing.html">BrainGnomes Postprocessing Walkthrough</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/UNCDEPENdLab/BrainGnomes/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Construct a Regular Expression for Matching BIDS Filenames</h1>
      <small class="dont-index">Source: <a href="https://github.com/UNCDEPENdLab/BrainGnomes/blob/main/R/bids_functions.R" class="external-link"><code>R/bids_functions.R</code></a></small>
      <div class="d-none name"><code>construct_bids_regex.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function constructs a regular expression to match BIDS-compatible filenames
based on a set of entity-value pairs. The resulting pattern allows for intermediate
unspecified entities between matched ones and ensures correct ordering based on
the BIDS specification. It supports both full entity names and their common abbreviations
(e.g., <code>sub</code>, <code>ses</code>, <code>task</code>, <code>desc</code>, etc.).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">construct_bids_regex</span><span class="op">(</span><span class="va">spec</span>, add_niigz_ext <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-spec">spec<a class="anchor" aria-label="anchor" href="#arg-spec"></a></dt>
<dd><p>A character string specifying BIDS entities as <code>key:value</code> pairs separated by spaces.
For example: <code>"sub:01 task:rest desc:preproc suffix:bold"</code>. Abbreviated keys are supported.
To pass a custom regex directly, prefix the input with <code>"regex:"</code> (e.g., <code>"regex:^sub-.*_bold\\.nii\\.gz$"</code>).</p></dd>


<dt id="arg-add-niigz-ext">add_niigz_ext<a class="anchor" aria-label="anchor" href="#arg-add-niigz-ext"></a></dt>
<dd><p>Logical; if <code>TRUE</code> (default), automatically appends a regex that matches
<code>.nii</code> or <code>.nii.gz</code> extensions (<code>\\.nii(\\.gz)?$</code>) when no extension is explicitly provided.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A character string containing a regular expression pattern that matches BIDS filenames
containing the specified entities in order, allowing intermediate unspecified fields.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ul><li><p>If no <code>suffix</code> is provided, the regex will match any suffix (e.g., <code>"bold"</code>, <code>"T1w"</code>, etc.).</p></li>
<li><p>If no <code>ext</code> is provided and <code>add_niigz_ext = TRUE</code>, the pattern will match <code>.nii</code> or <code>.nii.gz</code>.</p></li>
<li><p>Unescaped periods in user-supplied extensions are automatically escaped to avoid unintended matches.</p></li>
<li><p>Intermediate fields (e.g., <code>_acq-lowres_</code>) are allowed between specified components using the <code>(_[^_]+)*_</code> pattern.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="co"># Match a bold preprocessed run for subject 01 with any other intermediate fields allowed</span></span></span>
<span class="r-in"><span>  <span class="fu">construct_bids_regex</span><span class="op">(</span><span class="st">"sub:01 task:rest desc:preproc suffix:bold"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Match any file that ends in .nii or .nii.gz</span></span></span>
<span class="r-in"><span>  <span class="fu">construct_bids_regex</span><span class="op">(</span><span class="st">"suffix:bold"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Use an explicit regex pattern</span></span></span>
<span class="r-in"><span>  <span class="fu">construct_bids_regex</span><span class="op">(</span><span class="st">"regex:^sub-[0-9]+_task-rest_.*\\.nii\\.gz$"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Hallquist.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

