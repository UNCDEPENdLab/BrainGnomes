% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bids_functions.R
\name{get_subject_dirs}
\alias{get_subject_dirs}
\title{Helper function to obtain all subject and session directories from a root folder}
\usage{
get_subject_dirs(
  root = NULL,
  sub_regex = "[0-9]+",
  sub_id_match = "([0-9]+)",
  ses_regex = NULL,
  ses_id_match = "([0-9]+)",
  full.names = FALSE
)
}
\arguments{
\item{root}{The path to a root folder containing subject folders.}

\item{sub_regex}{A regex pattern to match the subject folders. Default: \code{"[0-9]+"}.}

\item{sub_id_match}{A regex pattern for extracting the subject ID from the subject folder name. Default: \code{"([0-9]+)"}.}

\item{ses_regex}{A regex pattern to match session folders. Default: \code{NULL}. If \code{NULL}, session folders are not expected.}

\item{ses_id_match}{A regex pattern for extracting the session ID from the session folder name. Default: \code{"([0-9]+)"}.}

\item{full.names}{If \code{TRUE}, return absolute paths to the folders; if \code{FALSE}, return paths relative to \code{root}. Default: \code{FALSE}.}
}
\value{
A data frame with one row per subject (or per subject-session combination) and columns:
\itemize{
\item \code{sub_id}: Subject ID extracted from each folder name.
\item \code{ses_id}: Session ID (or \code{NA} if no session level).
\item \code{sub_dir}: Path to the subject folder.
\item \code{ses_dir}: Path to the session folder (\code{NA} if no session).
}
}
\description{
Helper function to obtain all subject and session directories from a root folder
}
\details{
This function is used to find all subject folders within a root folder.
It is used internally by the package to find the subject DICOM and BIDS folders for processing.
The function uses the \code{list.dirs} function to list all directories within the
folder and then filters the directories based on the regex patterns provided.
The function returns a character vector of the subject folders found.

The function also extracts the subject and session IDs from the folder names
using the regex patterns provided. The IDs are extracted using the \code{extract_capturing_groups}
function, which uses the \code{regexec} and \code{regmatches} functions to extract the capturing groups
from the folder names. The function returns a data frame with the subject and session IDs
and the corresponding folder paths.
}
\examples{
get_subject_dirs(root = "/path/to/root", sub_regex = "[0-9]+", sub_id_match = "([0-9]+)",
                ses_regex = "ses-[0-9]+", ses_id_match = "([0-9]+)", full.names = TRUE)
}
\keyword{internal}
