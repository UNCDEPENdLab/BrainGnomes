# BrainGnomes 0.7-3

* bugfix: correctly handle unsigned integer data types in NIfTIs
* lmfit_residuals_4d now handles partial (ala fsl_regfilt) and full regression

# BrainGnomes 0.7-2

Released 2025-10-09

* Allow `min_vox_per_roi` to be specified as a percentage or proportion of atlas voxels during ROI extraction
* ROI extraction allows for an optional brain mask that is applied to the atlas and time series data
* Add support for an explicit empty response (returns `NA`) in `prompt_input` when a default is provided
* Support notch filtering of motion parameters prior to calculation of framewise_displacement
* Support different head sizes for calculation of framewise displacement
* `run_project` with `force=TRUE` enables `overwrite` for downstream operations, ensuring that steps are re-run
* Persist location of non-standard YAML file locations when loading from file.
* Pass through user-specified CLI to heudiconv, support overwrite and clearing the cache
* bugfix: look for MNI152NLin6Asym_res-2 recursively when verifying readiness for AROMA

# BrainGnomes 0.7-1

Released 2025-09-24

* UI/UX improvements to ask query enable/disable for postprocessing and ROI extraction during edit_project
* Do not ask about ROI extraction details if no postprocessing streams are defined
* Corrected validation of band-pass cutoffs and clarified temporal filtering prompts/documentation
* Improved log messages related to temporal filtering

# BrainGnomes 0.7

Released 2025-09-16

* Tested and vetted flywheel sync
* Defer subject processing loop when flywheel sync is the first step
* validate_project adds argument correct_problems to prompt user for corrections if requested
* run_project does not continue if no steps are requested
* check that the scratch_directory is writable when the project is loaded and prompt for a new directory if not
* bugfix: validate_project does not return a top-level 'gap' for postprocess when config is valid
* bugfix: edit_project allows enable/disable modifications
* bugfix: edit_project looks for missing config settings when enabling a previously disabled step
* bugfix: do not display postproc or extract menus when filling in configuration gaps

# BrainGnomes 0.6-1

Released 2025-09-04

* Added Rcpp automask function, mimicking AFNI 3dAutomask.
* Use automask to get approximate whole-brain mask for image quantiles in postprocessing (spatial_smooth, intensity_normalize)
* Use the user-specific mask file in apply_mask, if relevant
* Added prompt_directory, which asks for confirmation when user specifies a non-existent directory
* Support use of AROMA in postproc for outputs generated by fmriprep 23 and before

# BrainGnomes 0.6

Released 2025-08-30

* Added ROI extraction workflow (`extract_rois`) with correlation options and a dedicated vignette.
* Introduced a Flywheel synchronization step for retrieving data.
* Added support for external BIDS and fMRIPrep directories,
  including an `is_external_path` helper, path normalization, and configurable `postproc_directory`.
* Enhanced postprocessing: new `output_dir` argument, direct output movement without symlinks,
  robust file handling, and optional AROMA cleanup with safety checks for MNI res-2 outputs.
* Refined project setup and validation by verifying directories before saving,
  prompting for required containers, and allowing projects to run without a postprocessing directory.
* Documentation and test improvements, including an expanded quickstart guide and instructions for building the FSL container.
